version: 1
domain:
  key: nt
  title: Nebula Tasks
sections:
  secrets:
    title: Secrets errors
    errors:
      vault_setup_error:
        title: Vault client setup error
        description: there was an error setting up the Vault client
      session_setup_error:
        title: Session setup error
        description: there was an error setting up the secret engine session
      get_error:
        title: Get error
        description: failed to get the secret at key {{key}}
        arguments:
          key:
            description: the key that had the failure
      key_not_found:
        title: Key not found
        description: key {{key}} not found
        arguments:
          key:
            description: the key that is missing
        metadata:
          http:
            status: 404
      value_encoding_error:
        title: Value encoding error
        description: encoding the secret value failed
      value_decoding_error:
        title: Value decoding error
        description: decoding the secret value failed
      missing_secret_ref:
        title: Missing secretRef
        description: secretRef is missing
      malformed_value:
        title: Malformed value
        description: the value for secretRef is not a string
      k8s_service_account_token_read_error:
        title: K8s service account token read error
        description: there was an error reading the service account token from the secret file
      vault_login_error:
        title: Vault login error
        description: there was an error logging into the vault server
      vault_token_lookup_error:
        title: Vault token lookup error
        description: there was an error looking up the current vault token
      vault_token_not_renewable_error:
        title: Vault token not renewable
        description: the vault token currently used for auth is not renewable
      vault_token_renew_error:
        title: Vault token renew error
        description: failed to renew the vault token
      vault_authentication_not_configured_error:
        title: Vault authentication not configured error
        description: no vault token or service account path specified

  outputs:
    title: Outputs errors
    errors:
      task_not_found:
        title: Task not found
        description: task {{task}} was not found
        arguments:
          task:
            description: the task name that was not found
        metadata:
          http:
            status: 404
      key_not_found:
        title: Key not found
        description: key {{key}} was not found
        arguments:
          key:
            description: the key name that was not found
        metadata:
          http:
            status: 404
      key_empty_error:
        title: Key empty error
        description: the output key was empty
      value_decoding_error:
        title: Value decoding error
        description: decoding the secret value failed
      value_encoding_error:
        title: Value encoding error
        description: encoding the secret value failed
      value_read_error:
        title: Value read error
        description: there was an error reading the value from the buffer
      get_error:
        title: Get error
        description: there was an error getting the output
      put_error:
        title: Put error
        description: there was an error storing the output

  state:
    title: State errors
    errors:
      task_not_found:
        title: Task not found
        description: task {{task}} was not found
        arguments:
          task:
            description: the task name that was not found
        metadata:
          http:
            status: 404
      key_not_found:
        title: Key not found
        description: key {{key}} was not found
        arguments:
          key:
            description: the key name that was not found
        metadata:
          http:
            status: 404
      key_empty_error:
        title: Key empty error
        description: the output key was empty
      value_decoding_error:
        title: Value decoding error
        description: decoding the secret value failed
      value_encoding_error:
        title: Value encoding error
        description: encoding the secret value failed
      value_read_error:
        title: Value read error
        description: there was an error reading the value from the buffer
      get_error:
        title: Get error
        description: there was an error getting the output
      put_error:
        title: Put error
        description: there was an error storing the output

  task:
    title: Task errors
    errors:
      not_found_for_ip:
        title: Not found for IP
        description: no task was found for IP address {{ip}}
        arguments:
          ip:
            description: the ip address used in the request
        metadata:
          http:
            status: 404
      conditionals_not_found_for_id:
        title: Conditionals not found for ID
        description: no task conditionals was found for ID {{id}}
        arguments:
          id:
            description: the id of the task
        metadata:
          http:
            status: 404
      conditionals_lookup_error:
        title: Conditionals lookup error
        description: failed to lookup task conditionals
        metadata:
          http:
            status: 500
      spec_not_found_for_id:
        title: Spec not found for ID
        description: no task spec was found for ID {{id}}
        arguments:
          id:
            description: the id of the task
        metadata:
          http:
            status: 404
      spec_lookup_error:
        title: Spec lookup error
        description: failed to lookup task spec
        metadata:
          http:
            status: 500
      spec_decoding_error:
        title: Spec decoding error
        description: failed to decode spec data
        metadata:
          http:
            status: 500
      invalid_hash_error:
        title: Invalid hash
        description: the task does not have a valid hash associated with it
      spec_evaluation_error:
        title: Evaluation error
        description: failed to evaluate the step specification

  kubernetes:
    title: Kubernetes errors
    errors:
      manager_setup_error:
        title: Manager setup error
        description: there was an error setting up the kubernetes manager
      pod_not_found:
        title: Pod not found
        description: the pod was not found using the IP {{ ip }}
        arguments:
          ip:
            description: the ip address used to lookup the pod
      pod_lookup_error:
        title: Pod lookup error
        description: there was an error looking up the pod

  server:
    title: Server errors
    errors:
      run_error:
        title: Run error
        description: an error occurred which running the server
      in_cluster_config_error:
        title: Config fetch error
        description: error fetching the in cluster config
      new_k8s_client_error:
        title: Kubernetes client create error
        description: error creating a Kubernetes client
      get_config_map_error:
        title: ConfigMap GET failed
        description: error when getting config map {{namespace}}/{{name}}
        arguments:
          name:
            description: The name of the config map
          namespace:
            description: The namespace of the config map
      config_map_json_error:
        title: ConfigMap spec.json parse error
        description: error when parsing the "spec.json" field of the {{namespace}}/{{name}} config map data
        arguments:
          name:
            description: The name of the config map
          namespace:
            description: The namespace of the config map
      secret_fetcher_name_validation_error:
        title: Secret fetcher name validation error
        description: name was missing or invalid
      secret_fetcher_get_error:
        title: Secret fetcher get error
        description: there was an error fetch the secret value
      output_fetcher_name_validation_error:
        title: Output fetcher name validation error
        description: name was missing or invalid
      output_fetcher_task_name_validation_error:
        title: Output fetcher task name validation error
        description: taskName was missing or invalid
      output_fetcher_get_error:
        title: Output fetcher get error
        description: there was an error fetch the output value
      pre_config_decoding_error:
        title: PreConfig decoding error
        description: there was an error decoding the development preconfiguration file
      client_ip_error:
        title: Client IP error
        description: malformed client IP
        metadata:
          http:
            status: 500
      json_encoding_error:
        title: JSON encoding error
        description: Failed to encode JSON

  workflow:
    title: Workflow errors
    errors:
      execution_error:
        title: Workflow execution error
        description: The workflow failed to execute.
      invalid_step_dependency_error:
        title: Invalid step dependency error
        arguments:
          step:
            description: The invalid step name
        description: Step name {{step}} is not a valid dependency
        metadata:
          http:
            status: 422
